!function(e,t){"function"==typeof define&&define.amd?define("/modules/live/rongyun/protbuf",["ByteBuffer"],t):"function"==typeof require&&"object"==typeof module&&module&&module.exports?module.exports=t(require("ByteBuffer"),!0):(e.dcodeIO=e.dcodeIO||{}).ProtoBuf=t(e.dcodeIO.ByteBuffer)}(this,function(e){var t={};t.ByteBuffer=e,t.Long=e.Long||null,t.VERSION="5.0.1",t.WIRE_TYPES={},t.WIRE_TYPES.VARINT=0,t.WIRE_TYPES.BITS64=1,t.WIRE_TYPES.LDELIM=2,t.WIRE_TYPES.STARTGROUP=3,t.WIRE_TYPES.ENDGROUP=4,t.WIRE_TYPES.BITS32=5,t.PACKABLE_WIRE_TYPES=[t.WIRE_TYPES.VARINT,t.WIRE_TYPES.BITS64,t.WIRE_TYPES.BITS32],t.TYPES={int32:{name:"int32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.ZERO:void 0},uint64:{name:"uint64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.UZERO:void 0},sint64:{name:"sint64",wireType:t.WIRE_TYPES.VARINT,defaultValue:t.Long?t.Long.ZERO:void 0},bool:{name:"bool",wireType:t.WIRE_TYPES.VARINT,defaultValue:!1},"double":{name:"double",wireType:t.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:t.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:t.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:t.WIRE_TYPES.BITS64,defaultValue:t.Long?t.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:t.WIRE_TYPES.BITS64,defaultValue:t.Long?t.Long.ZERO:void 0},"float":{name:"float",wireType:t.WIRE_TYPES.BITS32,defaultValue:0},"enum":{name:"enum",wireType:t.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:t.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:t.WIRE_TYPES.STARTGROUP,defaultValue:null}},t.MAP_KEY_TYPES=[t.TYPES.int32,t.TYPES.sint32,t.TYPES.sfixed32,t.TYPES.uint32,t.TYPES.fixed32,t.TYPES.int64,t.TYPES.sint64,t.TYPES.sfixed64,t.TYPES.uint64,t.TYPES.fixed64,t.TYPES.bool,t.TYPES.string,t.TYPES.bytes],t.ID_MIN=1,t.ID_MAX=536870911,t.convertFieldsToCamelCase=!1,t.populateAccessors=!0,t.populateDefaults=!0,t.Util=function(){var e={};return e.IS_NODE=!("object"!=typeof process||process+""!="[object process]"||process.browser),e.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,i=0;i<e.length;i++){try{t=e[i]()}catch(n){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,i){if(i&&"function"!=typeof i&&(i=null),e.IS_NODE);else{var n=e.XHR();if(n.open("GET",t,i?!0:!1),n.setRequestHeader("Accept","text/plain"),"function"==typeof n.overrideMimeType&&n.overrideMimeType("text/plain"),!i)return n.send(null),200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null;if(n.onreadystatechange=function(){4==n.readyState&&i(200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null)},4==n.readyState)return;n.send(null)}},e.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},e}(),t.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},t.DotProto=function(e,t){function i(e,i){var n=-1,r=1;if("-"==e.charAt(0)&&(r=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))n=parseInt(e);else if(t.NUMBER_HEX.test(e))n=parseInt(e.substring(2),16);else{if(!t.NUMBER_OCT.test(e))throw Error("illegal id value: "+(0>r?"-":"")+e);n=parseInt(e.substring(1),8)}if(n=r*n|0,!i&&0>n)throw Error("illegal id value: "+(0>r?"-":"")+e);return n}function n(e){var i=1;if("-"==e.charAt(0)&&(i=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))return i*parseInt(e,10);if(t.NUMBER_HEX.test(e))return i*parseInt(e.substring(2),16);if(t.NUMBER_OCT.test(e))return i*parseInt(e.substring(1),8);if("inf"===e)return 1/0*i;if("nan"===e)return 0/0;if(t.NUMBER_FLT.test(e))return i*parseFloat(e);throw Error("illegal number value: "+(0>i?"-":"")+e)}function r(e,t,i){"undefined"==typeof e[t]?e[t]=i:(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(i))}var s={},o=function(e){this.source=e+"",this.index=0,this.line=1,this.stack=[],this._stringOpen=null},a=o.prototype;a._readString=function(){var e='"'===this._stringOpen?t.STRING_DQ:t.STRING_SQ;e.lastIndex=this.index-1;var i=e.exec(this.source);if(!i)throw Error("unterminated string");return this.index=e.lastIndex,this.stack.push(this._stringOpen),this._stringOpen=null,i[1]},a.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();var e,i,n;do{for(e=!1;t.WHITESPACE.test(n=this.source.charAt(this.index));)if("\n"===n&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,e=!0}else{if("*"!==(n=this.source.charAt(this.index)))return"/";do{if("\n"===n&&++this.line,++this.index===this.source.length)return null;i=n,n=this.source.charAt(this.index)}while("*"!==i||"/"!==n);++this.index,e=!0}}while(e);if(this.index===this.source.length)return null;var r=this.index;t.DELIM.lastIndex=0;var s=t.DELIM.test(this.source.charAt(r++));if(!s)for(;r<this.source.length&&!t.DELIM.test(this.source.charAt(r));)++r;var o=this.source.substring(this.index,this.index=r);return('"'===o||"'"===o)&&(this._stringOpen=o),o},a.peek=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},a.skip=function(e){var t=this.next();if(t!==e)throw Error("illegal '"+t+"', '"+e+"' expected")},a.omit=function(e){return this.peek()===e?(this.next(),!0):!1},a.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},s.Tokenizer=o;var l=function(e){this.tn=new o(e),this.proto3=!1},c=l.prototype;return c.parse=function(){var e,i={name:"[ROOT]","package":null,messages:[],enums:[],imports:[],options:{},services:[]},n=!0;try{for(;e=this.tn.next();)switch(e){case"package":if(!n||null!==i["package"])throw Error("unexpected 'package'");if(e=this.tn.next(),!t.TYPEREF.test(e))throw Error("illegal package name: "+e);this.tn.skip(";"),i["package"]=e;break;case"import":if(!n)throw Error("unexpected 'import'");e=this.tn.peek(),"public"===e&&this.tn.next(),e=this._readString(),this.tn.skip(";"),i.imports.push(e);break;case"syntax":if(!n)throw Error("unexpected 'syntax'");this.tn.skip("="),"proto3"===(i.syntax=this._readString())&&(this.proto3=!0),this.tn.skip(";");break;case"message":this._parseMessage(i,null),n=!1;break;case"enum":this._parseEnum(i),n=!1;break;case"option":this._parseOption(i);break;case"service":this._parseService(i);break;case"extend":this._parseExtend(i);break;default:throw Error("unexpected '"+e+"'")}}catch(r){throw r.message="Parse error at line "+this.tn.line+": "+r.message,r}return delete i.name,i},l.parse=function(e){return new l(e).parse()},c._readString=function(){var e,t,i="";do{if(t=this.tn.next(),"'"!==t&&'"'!==t)throw Error("illegal string delimiter: "+t);i+=this.tn.next(),this.tn.skip(t),e=this.tn.peek()}while('"'===e||'"'===e);return i},c._readValue=function(e){var i=this.tn.peek();if('"'===i||"'"===i)return this._readString();if(this.tn.next(),t.NUMBER.test(i))return n(i);if(t.BOOL.test(i))return"true"===i.toLowerCase();if(e&&t.TYPEREF.test(i))return i;throw Error("illegal value: "+i)},c._parseOption=function(e,i){var n=this.tn.next(),r=!1;if("("===n&&(r=!0,n=this.tn.next()),!t.TYPEREF.test(n))throw Error("illegal option name: "+n);var s=n;r&&(this.tn.skip(")"),s="("+s+")",n=this.tn.peek(),t.FQTYPEREF.test(n)&&(s+=n,this.tn.next())),this.tn.skip("="),this._parseOptionValue(e,s),i||this.tn.skip(";")},c._parseOptionValue=function(e,i){var n=this.tn.peek();if("{"!==n)r(e.options,i,this._readValue(!0));else for(this.tn.skip("{");"}"!==(n=this.tn.next());){if(!t.NAME.test(n))throw Error("illegal option name: "+i+"."+n);this.tn.omit(":")?r(e.options,i+"."+n,this._readValue(!0)):this._parseOptionValue(e,i+"."+n)}},c._parseService=function(e){var i=this.tn.next();if(!t.NAME.test(i))throw Error("illegal service name at line "+this.tn.line+": "+i);var n=i,r={name:n,rpc:{},options:{}};for(this.tn.skip("{");"}"!==(i=this.tn.next());)if("option"===i)this._parseOption(r);else{if("rpc"!==i)throw Error("illegal service token: "+i);this._parseServiceRPC(r)}this.tn.omit(";"),e.services.push(r)},c._parseServiceRPC=function(e){var i="rpc",n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal rpc service method name: "+n);var r=n,s={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(this.tn.skip("("),n=this.tn.next(),"stream"===n.toLowerCase()&&(s.request_stream=!0,n=this.tn.next()),!t.TYPEREF.test(n))throw Error("illegal rpc service request type: "+n);if(s.request=n,this.tn.skip(")"),n=this.tn.next(),"returns"!==n.toLowerCase())throw Error("illegal rpc service request type delimiter: "+n);if(this.tn.skip("("),n=this.tn.next(),"stream"===n.toLowerCase()&&(s.response_stream=!0,n=this.tn.next()),s.response=n,this.tn.skip(")"),n=this.tn.peek(),"{"===n){for(this.tn.next();"}"!==(n=this.tn.next());){if("option"!==n)throw Error("illegal rpc service token: "+n);this._parseOption(s)}this.tn.omit(";")}else this.tn.skip(";");"undefined"==typeof e[i]&&(e[i]={}),e[i][r]=s},c._parseMessage=function(e,n){var r=!!n,s=this.tn.next(),o={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!t.NAME.test(s))throw Error("illegal "+(r?"group":"message")+" name: "+s);for(o.name=s,r&&(this.tn.skip("="),n.id=i(this.tn.next()),o.isGroup=!0),s=this.tn.peek(),"["===s&&n&&this._parseFieldOptions(n),this.tn.skip("{");"}"!==(s=this.tn.next());)if(t.RULE.test(s))this._parseMessageField(o,s);else if("oneof"===s)this._parseMessageOneOf(o);else if("enum"===s)this._parseEnum(o);else if("message"===s)this._parseMessage(o);else if("option"===s)this._parseOption(o);else if("service"===s)this._parseService(o);else if("extensions"===s)o.extensions=this._parseExtensionRanges();else if("reserved"===s)this._parseIgnored();else if("extend"===s)this._parseExtend(o);else{if(!t.TYPEREF.test(s))throw Error("illegal message token: "+s);if(!this.proto3)throw Error("illegal field rule: "+s);this._parseMessageField(o,"optional",s)}return this.tn.omit(";"),e.messages.push(o),o},c._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")},c._parseMessageField=function(e,n,r){if(!t.RULE.test(n))throw Error("illegal message field rule: "+n);var s,o={rule:n,type:"",name:"",options:{},id:0};if("map"===n){if(r)throw Error("illegal type: "+r);if(this.tn.skip("<"),s=this.tn.next(),!t.TYPE.test(s)&&!t.TYPEREF.test(s))throw Error("illegal message field type: "+s);if(o.keytype=s,this.tn.skip(","),s=this.tn.next(),!t.TYPE.test(s)&&!t.TYPEREF.test(s))throw Error("illegal message field: "+s);if(o.type=s,this.tn.skip(">"),s=this.tn.next(),!t.NAME.test(s))throw Error("illegal message field name: "+s);o.name=s,this.tn.skip("="),o.id=i(this.tn.next()),s=this.tn.peek(),"["===s&&this._parseFieldOptions(o),this.tn.skip(";")}else if(r="undefined"!=typeof r?r:this.tn.next(),"group"===r){var a=this._parseMessage(e,o);if(!/^[A-Z]/.test(a.name))throw Error("illegal group name: "+a.name);o.type=a.name,o.name=a.name.toLowerCase(),this.tn.omit(";")}else{if(!t.TYPE.test(r)&&!t.TYPEREF.test(r))throw Error("illegal message field type: "+r);if(o.type=r,s=this.tn.next(),!t.NAME.test(s))throw Error("illegal message field name: "+s);o.name=s,this.tn.skip("="),o.id=i(this.tn.next()),s=this.tn.peek(),"["===s&&this._parseFieldOptions(o),this.tn.skip(";")}return e.fields.push(o),o},c._parseMessageOneOf=function(e){var i=this.tn.next();if(!t.NAME.test(i))throw Error("illegal oneof name: "+i);var n,r=i,s=[];for(this.tn.skip("{");"}"!==(i=this.tn.next());)n=this._parseMessageField(e,"optional",i),n.oneof=r,s.push(n.id);this.tn.omit(";"),e.oneofs[r]=s},c._parseFieldOptions=function(e){this.tn.skip("[");for(var t,i=!0;"]"!==(t=this.tn.peek());)i||this.tn.skip(","),this._parseOption(e,!0),i=!1;this.tn.next()},c._parseEnum=function(e){var n={name:"",values:[],options:{}},r=this.tn.next();if(!t.NAME.test(r))throw Error("illegal name: "+r);for(n.name=r,this.tn.skip("{");"}"!==(r=this.tn.next());)if("option"===r)this._parseOption(n);else{if(!t.NAME.test(r))throw Error("illegal name: "+r);this.tn.skip("=");var s={name:r,id:i(this.tn.next(),!0)};r=this.tn.peek(),"["===r&&this._parseFieldOptions({options:{}}),this.tn.skip(";"),n.values.push(s)}this.tn.omit(";"),e.enums.push(n)},c._parseExtensionRanges=function(){var t,i,r,s=[];do{for(i=[];;){switch(t=this.tn.next()){case"min":r=e.ID_MIN;break;case"max":r=e.ID_MAX;break;default:r=n(t)}if(i.push(r),2===i.length)break;if("to"!==this.tn.peek()){i.push(r);break}this.tn.next()}s.push(i)}while(this.tn.omit(","));return this.tn.skip(";"),s},c._parseExtend=function(e){var i=this.tn.next();if(!t.TYPEREF.test(i))throw Error("illegal extend reference: "+i);var n={ref:i,fields:[]};for(this.tn.skip("{");"}"!==(i=this.tn.next());)if(t.RULE.test(i))this._parseMessageField(n,i);else{if(!t.TYPEREF.test(i))throw Error("illegal extend token: "+i);if(!this.proto3)throw Error("illegal field rule: "+i);this._parseMessageField(n,"optional",i)}return this.tn.omit(";"),e.messages.push(n),n},c.toString=function(){return"Parser at line "+this.tn.line},s.Parser=l,s}(t,t.Lang),t.Reflect=function(t){function i(i){if("string"==typeof i&&(i=t.TYPES[i]),"undefined"==typeof i.defaultValue)throw Error("default value for type "+i.name+" is not supported");return i==t.TYPES.bytes?new e(0):i.defaultValue}function n(e,i){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.unsigned&&e.low===e.low&&e.high===e.high)return new t.Long(e.low,e.high,"undefined"==typeof i?e.unsigned:i);if("string"==typeof e)return t.Long.fromString(e,i||!1,10);if("number"==typeof e)return t.Long.fromNumber(e,i||!1);throw Error("not convertible to Long")}function r(e,i){var n=i.readVarint32(),s=7&n,o=n>>>3;switch(s){case t.WIRE_TYPES.VARINT:do n=i.readUint8();while(128===(128&n));break;case t.WIRE_TYPES.BITS64:i.offset+=8;break;case t.WIRE_TYPES.LDELIM:n=i.readVarint32(),i.offset+=n;break;case t.WIRE_TYPES.STARTGROUP:r(o,i);break;case t.WIRE_TYPES.ENDGROUP:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:i.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+s)}return!0}var s={},o=function(e,t,i){this.builder=e,this.parent=t,this.name=i,this.className},a=o.prototype;a.fqn=function(){for(var e=this.name,t=this;;){if(t=t.parent,null==t)break;e=t.name+"."+e}return e},a.toString=function(e){return(e?this.className+" ":"")+this.fqn()},a.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},s.T=o;var l=function(e,t,i,n,r){o.call(this,e,t,i),this.className="Namespace",this.children=[],this.options=n||{},this.syntax=r||"proto2"},c=l.prototype=Object.create(o.prototype);c.getChildren=function(e){if(e=e||null,null==e)return this.children.slice();for(var t=[],i=0,n=this.children.length;n>i;++i)this.children[i]instanceof e&&t.push(this.children[i]);return t},c.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof h.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof h.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},c.getChild=function(e){for(var t="number"==typeof e?"id":"name",i=0,n=this.children.length;n>i;++i)if(this.children[i][t]===e)return this.children[i];return null},c.resolve=function(e,t){var i="string"==typeof e?e.split("."):e,n=this,r=0;if(""===i[r]){for(;null!==n.parent;)n=n.parent;r++}var o;do{do{if(!(n instanceof s.Namespace)){n=null;break}if(o=n.getChild(i[r]),!(o&&o instanceof s.T&&(!t||o instanceof s.Namespace))){n=null;break}n=o,r++}while(r<i.length);if(null!=n)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=n);return n},c.qn=function(e){var t=[],i=e;do t.unshift(i.name),i=i.parent;while(null!==i);for(var n=1;n<=t.length;n++){var r=t.slice(t.length-n);if(e===this.resolve(r,e instanceof s.Namespace))return r.join(".")}return e.fqn()},c.build=function(){for(var e,t={},i=this.children,n=0,r=i.length;r>n;++n)e=i[n],e instanceof l&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},c.buildOpt=function(){for(var e={},t=Object.keys(this.options),i=0,n=t.length;n>i;++i){var r=t[i],s=this.options[t[i]];e[r]=s}return e},c.getOption=function(e){return"undefined"==typeof e?this.options:"undefined"!=typeof this.options[e]?this.options[e]:null},s.Namespace=l;var u=function(e,i,n,r){if(this.type=e,this.resolvedType=i,this.isMapKey=n,this.syntax=r,n&&t.MAP_KEY_TYPES.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},g=u.prototype;u.defaultFieldValue=i,g.verifyValue=function(i){var r=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:return("number"!=typeof i||i===i&&i%1!==0)&&r(typeof i,"not an integer"),i>4294967295?0|i:i;case t.TYPES.uint32:case t.TYPES.fixed32:return("number"!=typeof i||i===i&&i%1!==0)&&r(typeof i,"not an integer"),0>i?i>>>0:i;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:if(t.Long)try{return n(i,!1)}catch(s){r(typeof i,s.message)}else r(typeof i,"requires Long.js");case t.TYPES.uint64:case t.TYPES.fixed64:if(t.Long)try{return n(i,!0)}catch(s){r(typeof i,s.message)}else r(typeof i,"requires Long.js");case t.TYPES.bool:return"boolean"!=typeof i&&r(typeof i,"not a boolean"),i;case t.TYPES["float"]:case t.TYPES["double"]:return"number"!=typeof i&&r(typeof i,"not a number"),i;case t.TYPES.string:return"string"==typeof i||i&&i instanceof String||r(typeof i,"not a string"),""+i;case t.TYPES.bytes:return e.isByteBuffer(i)?i:e.wrap(i);case t.TYPES["enum"]:var o=this.resolvedType.getChildren(t.Reflect.Enum.Value);for(l=0;l<o.length;l++){if(o[l].name==i)return o[l].id;if(o[l].id==i)return o[l].id}if("proto3"===this.syntax)return("number"!=typeof i||i===i&&i%1!==0)&&r(typeof i,"not an integer"),(i>4294967295||0>i)&&r(typeof i,"not in range for uint32"),i;r(i,"not a valid enum value");case t.TYPES.group:case t.TYPES.message:if(i&&"object"==typeof i||r(typeof i,"object expected"),i instanceof this.resolvedType.clazz)return i;if(i instanceof t.Builder.Message){var a={};for(var l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);i=a}return new this.resolvedType.clazz(i)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+i+" (undefined type "+this.type+")")},g.calculateLength=function(i,n){if(null===n)return 0;var r;switch(this.type){case t.TYPES.int32:return 0>n?e.calculateVarint64(n):e.calculateVarint32(n);case t.TYPES.uint32:return e.calculateVarint32(n);case t.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(n));case t.TYPES.fixed32:case t.TYPES.sfixed32:case t.TYPES["float"]:return 4;case t.TYPES.int64:case t.TYPES.uint64:return e.calculateVarint64(n);case t.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(n));case t.TYPES.fixed64:case t.TYPES.sfixed64:return 8;case t.TYPES.bool:return 1;case t.TYPES["enum"]:return e.calculateVarint32(n);case t.TYPES["double"]:return 8;case t.TYPES.string:return r=e.calculateUTF8Bytes(n),e.calculateVarint32(r)+r;case t.TYPES.bytes:if(n.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+n.remaining()+" bytes remaining");return e.calculateVarint32(n.remaining())+n.remaining();case t.TYPES.message:return r=this.resolvedType.calculate(n),e.calculateVarint32(r)+r;case t.TYPES.group:return r=this.resolvedType.calculate(n),r+e.calculateVarint32(i<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+n+" (unknown type)")},g.encodeValue=function(i,n,r){if(null===n)return r;switch(this.type){case t.TYPES.int32:0>n?r.writeVarint64(n):r.writeVarint32(n);break;case t.TYPES.uint32:r.writeVarint32(n);break;case t.TYPES.sint32:r.writeVarint32ZigZag(n);break;case t.TYPES.fixed32:r.writeUint32(n);break;case t.TYPES.sfixed32:r.writeInt32(n);break;case t.TYPES.int64:case t.TYPES.uint64:r.writeVarint64(n);break;case t.TYPES.sint64:r.writeVarint64ZigZag(n);break;case t.TYPES.fixed64:r.writeUint64(n);break;case t.TYPES.sfixed64:r.writeInt64(n);break;case t.TYPES.bool:r.writeVarint32("string"==typeof n?"false"===n.toLowerCase()?0:!!n:n?1:0);break;case t.TYPES["enum"]:r.writeVarint32(n);break;case t.TYPES["float"]:r.writeFloat32(n);break;case t.TYPES["double"]:r.writeFloat64(n);break;case t.TYPES.string:r.writeVString(n);break;case t.TYPES.bytes:if(n.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+n.remaining()+" bytes remaining");var s=n.offset;r.writeVarint32(n.remaining()),r.append(n),n.offset=s;break;case t.TYPES.message:var o=(new e).LE();this.resolvedType.encode(n,o),r.writeVarint32(o.offset),r.append(o.flip());break;case t.TYPES.group:this.resolvedType.encode(n,r),r.writeVarint32(i<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+n+" (unknown type)")}return r},g.decode=function(e,i,n){if(i!=this.type.wireType)throw Error("Unexpected wire type for element");var r,s;switch(this.type){case t.TYPES.int32:return 0|e.readVarint32();case t.TYPES.uint32:return e.readVarint32()>>>0;case t.TYPES.sint32:return 0|e.readVarint32ZigZag();case t.TYPES.fixed32:return e.readUint32()>>>0;case t.TYPES.sfixed32:return 0|e.readInt32();case t.TYPES.int64:return e.readVarint64();case t.TYPES.uint64:return e.readVarint64().toUnsigned();case t.TYPES.sint64:return e.readVarint64ZigZag();case t.TYPES.fixed64:return e.readUint64();case t.TYPES.sfixed64:return e.readInt64();case t.TYPES.bool:return!!e.readVarint32();case t.TYPES["enum"]:return e.readVarint32();case t.TYPES["float"]:return e.readFloat();case t.TYPES["double"]:return e.readDouble();case t.TYPES.string:return e.readVString();case t.TYPES.bytes:if(s=e.readVarint32(),e.remaining()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+e.remaining());return r=e.clone(),r.limit=r.offset+s,e.offset+=s,r;case t.TYPES.message:return s=e.readVarint32(),this.resolvedType.decode(e,s);case t.TYPES.group:return this.resolvedType.decode(e,-1,n)}throw Error("[INTERNAL] Illegal decode type")},g.valueFromString=function(i){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return this.verifyValue(parseInt(i));case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return this.verifyValue(i);case t.TYPES.bool:return"true"===i;case t.TYPES.string:return this.verifyValue(i);case t.TYPES.bytes:return e.fromBinary(i)}},g.valueToString=function(e){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===t.TYPES.bytes?e.toString("binary"):e.toString()},s.Element=u;var h=function(e,t,i,n,r,s){l.call(this,e,t,i,n,s),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!r,this._fields=null,this._fieldsById=null,this._fieldsByName=null},f=h.prototype=Object.create(l.prototype);f.build=function(i){if(this.clazz&&!i)return this.clazz;var n=function(t,i){function n(i,r,s,o){if(null===i||"object"!=typeof i){if(o&&o instanceof t.Reflect.Enum){var a=t.Reflect.Enum.getName(o.object,i);if(null!==a)return a}return i}if(e.isByteBuffer(i))return r?i.toBase64():i.toBuffer();if(t.Long.isLong(i))return s?i.toString():t.Long.fromValue(i);var l;if(Array.isArray(i))return l=[],i.forEach(function(e,t){l[t]=n(e,r,s,o)}),l;if(l={},i instanceof t.Map){for(var c=i.entries(),u=c.next();!u.done;u=c.next())l[i.keyElem.valueToString(u.value[0])]=n(u.value[1],r,s,i.valueElem.resolvedType);return l}var g=i.$type,h=void 0;for(var f in i)i.hasOwnProperty(f)&&(l[f]=g&&(h=g.getChild(f))?n(i[f],r,s,h.resolvedType):n(i[f],r,s));return l}var r=i.getChildren(t.Reflect.Message.Field),s=i.getChildren(t.Reflect.Message.OneOf),o=function(n){t.Builder.Message.call(this);for(var a=0,l=s.length;l>a;++a)this[s[a].name]=null;for(a=0,l=r.length;l>a;++a){var c=r[a];this[c.name]=c.repeated?[]:c.map?new t.Map(c):null,!c.required&&"proto3"!==i.syntax||null===c.defaultValue||(this[c.name]=c.defaultValue)}if(arguments.length>0){var u;if(1!==arguments.length||null===n||"object"!=typeof n||!("function"!=typeof n.encode||n instanceof o)||Array.isArray(n)||n instanceof t.Map||e.isByteBuffer(n)||n instanceof ArrayBuffer||t.Long&&n instanceof t.Long)for(a=0,l=arguments.length;l>a;++a)"undefined"!=typeof(u=arguments[a])&&this.$set(r[a].name,u);else this.$set(n)}},a=o.prototype=Object.create(t.Builder.Message.prototype);a.add=function(e,n,r){var s=i._fieldsByName[e];if(!r){if(!s)throw Error(this+"#"+e+" is undefined");if(!(s instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));if(!s.repeated)throw Error(this+"#"+e+" is not a repeated field");n=s.verifyValue(n,!0)}return null===this[e]&&(this[e]=[]),this[e].push(n),this},a.$add=a.add,a.set=function(e,n,r){if(e&&"object"==typeof e){r=n;for(var s in e)e.hasOwnProperty(s)&&"undefined"!=typeof(n=e[s])&&this.$set(s,n,r);return this}var o=i._fieldsByName[e];if(r)this[e]=n;else{if(!o)throw Error(this+"#"+e+" is not a field: undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));this[o.name]=n=o.verifyValue(n)}if(o&&o.oneof){var a=this[o.oneof.name];null!==n?(null!==a&&a!==o.name&&(this[a]=null),this[o.oneof.name]=o.name):a===e&&(this[o.oneof.name]=null)}return this},a.$set=a.set,a.get=function(e,n){if(n)return this[e];var r=i._fieldsByName[e];if(!(r&&r instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(r instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+r.toString(!0));return this[r.name]},a.$get=a.get;for(var l=0;l<r.length;l++){var c=r[l];c instanceof t.Reflect.Message.ExtensionField||i.builder.options.populateAccessors&&!function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var n=e.originalName.replace(/([A-Z])/g,function(e){return"_"+e}),r=function(t,i){return this[e.name]=i?t:e.verifyValue(t),this},s=function(){return this[e.name]};null===i.getChild("set"+t)&&(a["set"+t]=r),null===i.getChild("set_"+n)&&(a["set_"+n]=r),null===i.getChild("get"+t)&&(a["get"+t]=s),null===i.getChild("get_"+n)&&(a["get_"+n]=s)}(c)}a.encode=function(t,n){"boolean"==typeof t&&(n=t,t=void 0);var r=!1;t||(t=new e,r=!0);var s=t.littleEndian;try{return i.encode(this,t.LE(),n),(r?t.flip():t).LE(s)}catch(o){throw t.LE(s),o}},o.encode=function(e,t,i){return new o(e).encode(t,i)},a.calculate=function(){return i.calculate(this)},a.encodeDelimited=function(t){var n=!1;t||(t=new e,n=!0);var r=(new e).LE();return i.encode(this,r).flip(),t.writeVarint32(r.remaining()),t.append(r),n?t.flip():t},a.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},a.toArrayBuffer=a.encodeAB,a.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},a.toBuffer=a.encodeNB,a.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},a.toBase64=a.encode64,a.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},a.toHex=a.encodeHex,a.toRaw=function(e,t){return n(this,!!e,!!t,this.$type)},a.encodeJSON=function(){return JSON.stringify(n(this,!0,!0,this.$type))},o.decode=function(t,n){"string"==typeof t&&(t=e.wrap(t,n?n:"base64")),t=e.isByteBuffer(t)?t:e.wrap(t);var r=t.littleEndian;try{var s=i.decode(t.LE());return t.LE(r),s}catch(o){throw t.LE(r),o}},o.decodeDelimited=function(t,n){if("string"==typeof t&&(t=e.wrap(t,n?n:"base64")),t=e.isByteBuffer(t)?t:e.wrap(t),t.remaining()<1)return null;var r=t.offset,s=t.readVarint32();if(t.remaining()<s)return t.offset=r,null;try{var o=i.decode(t.slice(t.offset,t.offset+s).LE());return t.offset+=s,o}catch(a){throw t.offset+=s,a}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},o.decodeJSON=function(e){return new o(JSON.parse(e))},a.toString=function(){return i.toString()};return Object.defineProperty&&(Object.defineProperty(o,"$options",{value:i.buildOpt()}),Object.defineProperty(a,"$options",{value:o.$options}),Object.defineProperty(o,"$type",{value:i}),Object.defineProperty(a,"$type",{value:i})),o}(t,this);this._fields=[],this._fieldsById={},this._fieldsByName={};for(var r,s=0,o=this.children.length;o>s;s++)if(r=this.children[s],r instanceof y||r instanceof h||r instanceof b){if(n.hasOwnProperty(r.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+r.toString(!0)+" cannot override static property '"+r.name+"'");n[r.name]=r.build()}else if(r instanceof h.Field)r.build(),this._fields.push(r),this._fieldsById[r.id]=r,this._fieldsByName[r.name]=r;else if(!(r instanceof h.OneOf||r instanceof A))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[s].toString(!0));return this.clazz=n},f.encode=function(e,t,i){for(var n,r,s=null,o=0,a=this._fields.length;a>o;++o)n=this._fields[o],r=e[n.name],n.required&&null===r?null===s&&(s=n):n.encode(i?r:n.verifyValue(r),t,e);if(null!==s){var l=Error("Missing at least one required field for "+this.toString(!0)+": "+s);throw l.encoded=t,l}return t},f.calculate=function(e){for(var t,i,n=0,r=0,s=this._fields.length;s>r;++r){if(t=this._fields[r],i=e[t.name],t.required&&null===i)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);n+=t.calculate(i,e)}return n},f.decode=function(e,i,n){i="number"==typeof i?i:-1;for(var s,o,a,l,c=e.offset,u=new this.clazz;e.offset<c+i||-1===i&&e.remaining()>0;){if(s=e.readVarint32(),o=7&s,a=s>>>3,o===t.WIRE_TYPES.ENDGROUP){if(a!==n)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(n?n+" expected":"not a group")+")");break}if(l=this._fieldsById[a]){if(l.repeated&&!l.options.packed)u[l.name].push(l.decode(o,e));else if(l.map){var g=l.decode(o,e);u[l.name].set(g[0],g[1])}else if(u[l.name]=l.decode(o,e),l.oneof){var h=u[l.oneof.name];null!==h&&h!==l.name&&(u[h]=null),u[l.oneof.name]=l.name}}else switch(o){case t.WIRE_TYPES.VARINT:e.readVarint32();
break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:var f=e.readVarint32();e.offset+=f;break;case t.WIRE_TYPES.STARTGROUP:for(;r(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+o)}}for(var p=0,d=this._fields.length;d>p;++p)if(l=this._fields[p],null===u[l.name])if("proto3"===this.syntax)u[l.name]=l.defaultValue;else{if(l.required){var I=Error("Missing at least one required field for "+this.toString(!0)+": "+l.name);throw I.decoded=u,I}t.populateDefaults&&null!==l.defaultValue&&(u[l.name]=l.defaultValue)}return u},s.Message=h;var p=function(e,i,n,r,s,a,l,c,u,g){o.call(this,e,i,a),this.className="Message.Field",this.required="required"===n,this.repeated="repeated"===n,this.map="map"===n,this.keyType=r||null,this.type=s,this.resolvedType=null,this.id=l,this.options=c||{},this.defaultValue=null,this.oneof=u||null,this.syntax=g||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof h.ExtensionField||(this.name=t.Util.toCamelCase(this.name))},d=p.prototype=Object.create(o.prototype);d.build=function(){this.element=new u(this.type,this.resolvedType,!1,this.syntax),this.map&&(this.keyElement=new u(this.keyType,void 0,!0,this.syntax)),"proto3"!==this.syntax||this.repeated||this.map?"undefined"!=typeof this.options["default"]&&(this.defaultValue=this.verifyValue(this.options["default"])):this.defaultValue=u.defaultFieldValue(this.type)},d.verifyValue=function(e,i){i=i||!1;var n=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);if(null===e)return this.required&&n(typeof e,"required"),"proto3"===this.syntax&&this.type!==t.TYPES.message&&n(typeof e,"proto3 field without field presence cannot be null"),null;var r;if(this.repeated&&!i){Array.isArray(e)||(e=[e]);var s=[];for(r=0;r<e.length;r++)s.push(this.element.verifyValue(e[r]));return s}return this.map&&!i?e instanceof t.Map?e:(e instanceof Object||n(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&Array.isArray(e)&&n(typeof e,"no array expected"),this.element.verifyValue(e))},d.hasWirePresence=function(e,i){if("proto3"!==this.syntax)return null!==e;if(this.oneof&&i[this.oneof.name]===this.name)return!0;switch(this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:case t.TYPES.uint32:case t.TYPES.fixed32:return 0!==e;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:case t.TYPES.uint64:case t.TYPES.fixed64:return 0!==e.low||0!==e.high;case t.TYPES.bool:return e;case t.TYPES["float"]:case t.TYPES["double"]:return 0!==e;case t.TYPES.string:return e.length>0;case t.TYPES.bytes:return e.remaining()>0;case t.TYPES["enum"]:return 0!==e;case t.TYPES.message:return null!==e;default:return!0}},d.encode=function(i,n,r){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===i||this.repeated&&0==i.length)return n;try{if(this.repeated){var s;if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){n.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),n.ensureCapacity(n.offset+=1);var o=n.offset;for(s=0;s<i.length;s++)this.element.encodeValue(this.id,i[s],n);var a=n.offset-o,l=e.calculateVarint32(a);if(l>1){var c=n.slice(o,n.offset);o+=l-1,n.offset=o,n.append(c)}n.writeVarint32(a,o-l)}else for(s=0;s<i.length;s++)n.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,i[s],n)}else this.map?i.forEach(function(i,r){var s=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,i);n.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),n.writeVarint32(s),n.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,r,n),n.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,i,n)},this):this.hasWirePresence(i,r)&&(n.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,i,n))}catch(u){throw Error("Illegal value for "+this.toString(!0)+": "+i+" ("+u+")")}return n},d.calculate=function(i,n){if(i=this.verifyValue(i),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===i||this.repeated&&0==i.length)return 0;var r=0;try{if(this.repeated){var s,o;if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(r+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),o=0,s=0;s<i.length;s++)o+=this.element.calculateLength(this.id,i[s]);r+=e.calculateVarint32(o),r+=o}else for(s=0;s<i.length;s++)r+=e.calculateVarint32(this.id<<3|this.type.wireType),r+=this.element.calculateLength(this.id,i[s])}else this.map?i.forEach(function(i,n){var s=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,n)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,i);r+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r+=e.calculateVarint32(s),r+=s},this):this.hasWirePresence(i,n)&&(r+=e.calculateVarint32(this.id<<3|this.type.wireType),r+=this.element.calculateLength(this.id,i))}catch(a){throw Error("Illegal value for "+this.toString(!0)+": "+i+" ("+a+")")}return r},d.decode=function(e,i,n){var r,s,o=!this.map&&e==this.type.wireType||!n&&this.repeated&&this.options.packed&&e==t.WIRE_TYPES.LDELIM||this.map&&e==t.WIRE_TYPES.LDELIM;if(!o)throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!n){s=i.readVarint32(),s=i.offset+s;for(var a=[];i.offset<s;)a.push(this.decode(this.type.wireType,i,!0));return a}if(this.map){var l=u.defaultFieldValue(this.keyType);if(r=u.defaultFieldValue(this.type),s=i.readVarint32(),i.remaining()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+i.remaining());var c=i.clone();for(c.limit=c.offset+s,i.offset+=s;c.remaining()>0;){var g=c.readVarint32();e=7&g;var h=g>>>3;if(1===h)l=this.keyElement.decode(c,e,h);else{if(2!==h)throw Error("Unexpected tag in map field key/value submessage");r=this.element.decode(c,e,h)}}return[l,r]}return this.element.decode(i,e,this.id)},s.Message.Field=p;var I=function(e,t,i,n,r,s,o){p.call(this,e,t,i,null,n,r,s,o),this.extension};I.prototype=Object.create(p.prototype),s.Message.ExtensionField=I;var m=function(e,t,i){o.call(this,e,t,i),this.fields=[]};s.Message.OneOf=m;var y=function(e,t,i,n,r){l.call(this,e,t,i,n,r),this.className="Enum",this.object=null};y.getName=function(e,t){for(var i,n=Object.keys(e),r=0;r<n.length;++r)if(e[i=n[r]]===t)return i;return null};var C=y.prototype=Object.create(l.prototype);C.build=function(e){if(this.object&&!e)return this.object;for(var i=new t.Builder.Enum,n=this.getChildren(y.Value),r=0,s=n.length;s>r;++r)i[n[r].name]=n[r].id;return Object.defineProperty&&Object.defineProperty(i,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=i},s.Enum=y;var E=function(e,t,i,n){o.call(this,e,t,i),this.className="Enum.Value",this.id=n};E.prototype=Object.create(o.prototype),s.Enum.Value=E;var A=function(e,t,i,n){o.call(this,e,t,i),this.field=n};A.prototype=Object.create(o.prototype),s.Extension=A;var b=function(e,t,i,n){l.call(this,e,t,i,n),this.className="Service",this.clazz=null},v=b.prototype=Object.create(l.prototype);v.build=function(i){return this.clazz&&!i?this.clazz:this.clazz=function(t,i){for(var n=function(e){t.Builder.Service.call(this),this.rpcImpl=e||function(e,t,i){setTimeout(i.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},r=n.prototype=Object.create(t.Builder.Service.prototype),s=i.getChildren(t.Reflect.Service.RPCMethod),o=0;o<s.length;o++)!function(t){r[t.name]=function(n,r){try{try{n=t.resolvedRequestType.clazz.decode(e.wrap(n))}catch(s){if(!(s instanceof TypeError))throw s}if(null===n||"object"!=typeof n)throw Error("Illegal arguments");n instanceof t.resolvedRequestType.clazz||(n=new t.resolvedRequestType.clazz(n)),this.rpcImpl(t.fqn(),n,function(e,n){if(e)return void r(e);try{n=t.resolvedResponseType.clazz.decode(n)}catch(s){}return n&&n instanceof t.resolvedResponseType.clazz?void r(null,n):void r(Error("Illegal response type received in service method "+i.name+"#"+t.name))})}catch(s){setTimeout(r.bind(this,s),0)}},n[t.name]=function(e,i,r){new n(e)[t.name](i,r)},Object.defineProperty&&(Object.defineProperty(n[t.name],"$options",{value:t.buildOpt()}),Object.defineProperty(r[t.name],"$options",{value:n[t.name].$options}))}(s[o]);return Object.defineProperty&&(Object.defineProperty(n,"$options",{value:i.buildOpt()}),Object.defineProperty(r,"$options",{value:n.$options}),Object.defineProperty(n,"$type",{value:i}),Object.defineProperty(r,"$type",{value:i})),n}(t,this)},s.Service=b;var S=function(e,t,i,n){o.call(this,e,t,i),this.className="Service.Method",this.options=n||{}},W=S.prototype=Object.create(o.prototype);W.buildOpt=c.buildOpt,s.Service.Method=S;var T=function(e,t,i,n,r,s,o,a){S.call(this,e,t,i,a),this.className="Service.RPCMethod",this.requestName=n,this.responseName=r,this.requestStream=s,this.responseStream=o,this.resolvedRequestType=null,this.resolvedResponseType=null};return T.prototype=Object.create(S.prototype),s.Service.RPCMethod=T,s}(t),t.Builder=function(e,t,i){function n(e){e.messages&&e.messages.forEach(function(t){t.syntax=e.syntax,n(t)}),e.enums&&e.enums.forEach(function(t){t.syntax=e.syntax})}var r=function(e){this.ns=new i.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},s=r.prototype;return r.isMessage=function(e){return"string"!=typeof e.name?!1:"undefined"!=typeof e.values||"undefined"!=typeof e.rpc?!1:!0},r.isMessageField=function(e){return"string"!=typeof e.rule||"string"!=typeof e.name||"string"!=typeof e.type||"undefined"==typeof e.id?!1:!0},r.isEnum=function(e){return"string"!=typeof e.name?!1:"undefined"!=typeof e.values&&Array.isArray(e.values)&&0!==e.values.length?!0:!1},r.isService=function(e){return"string"==typeof e.name&&"object"==typeof e.rpc&&e.rpc?!0:!1},r.isExtend=function(e){return"string"!=typeof e.ref?!1:!0},s.reset=function(){return this.ptr=this.ns,this},s.define=function(e){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach(function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new i.Namespace(this,this.ptr,e)),this.ptr=t},this),this},s.create=function(t){if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];for(var n=[t];n.length>0;){if(t=n.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){var s=t.shift();if(r.isMessage(s)){var o=new i.Message(this,this.ptr,s.name,s.options,s.isGroup,s.syntax),a={};s.oneofs&&Object.keys(s.oneofs).forEach(function(e){o.addChild(a[e]=new i.Message.OneOf(this,o,e))},this),s.fields&&s.fields.forEach(function(e){if(null!==o.getChild(0|e.id))throw Error("duplicate or invalid field id in "+o.name+": "+e.id);if(e.options&&"object"!=typeof e.options)throw Error("illegal field options in "+o.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=a[e.oneof]))throw Error("illegal oneof in "+o.name+"#"+e.name+": "+e.oneof);e=new i.Message.Field(this,o,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,s.syntax),t&&t.fields.push(e),o.addChild(e)},this);var l=[];if(s.enums&&s.enums.forEach(function(e){l.push(e)}),s.messages&&s.messages.forEach(function(e){l.push(e)}),s.services&&s.services.forEach(function(e){l.push(e)}),s.extensions&&(o.extensions="number"==typeof s.extensions[0]?[s.extensions]:s.extensions),this.ptr.addChild(o),l.length>0){n.push(t),t=l,l=null,this.ptr=o,o=null;continue}l=null}else if(r.isEnum(s))o=new i.Enum(this,this.ptr,s.name,s.options,s.syntax),s.values.forEach(function(e){o.addChild(new i.Enum.Value(this,o,e.name,e.id))},this),this.ptr.addChild(o);else if(r.isService(s))o=new i.Service(this,this.ptr,s.name,s.options),Object.keys(s.rpc).forEach(function(e){var t=s.rpc[e];o.addChild(new i.Service.RPCMethod(this,o,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))},this),this.ptr.addChild(o);else{if(!r.isExtend(s))throw Error("not a valid definition: "+JSON.stringify(s));if(o=this.ptr.resolve(s.ref,!0))s.fields.forEach(function(t){if(null!==o.getChild(0|t.id))throw Error("duplicate extended field id in "+o.name+": "+t.id);if(o.extensions){var n=!1;if(o.extensions.forEach(function(e){t.id>=e[0]&&t.id<=e[1]&&(n=!0)}),!n)throw Error("illegal extended field id in "+o.name+": "+t.id+" (not within valid ranges)")}var r=t.name;this.options.convertFieldsToCamelCase&&(r=e.Util.toCamelCase(r));var s=new i.Message.ExtensionField(this,o,t.rule,t.type,this.ptr.fqn()+"."+r,t.id,t.options),a=new i.Extension(this,this.ptr,t.name,s);s.extension=a,this.ptr.addChild(a),o.addChild(s)},this);else if(!/\.?google\.protobuf\./.test(s.ref))throw Error("extended message "+s.ref+" is not defined")}s=null,o=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},s["import"]=function(t,i){var r="/";if("string"==typeof i){if(e.Util.IS_NODE,this.files[i]===!0)return this.reset();this.files[i]=!0}else if("object"==typeof i){var s=i.root;e.Util.IS_NODE,(s.indexOf("\\")>=0||i.file.indexOf("\\")>=0)&&(r="\\");var o=s+r+i.file;if(this.files[o]===!0)return this.reset();this.files[o]=!0}if(t.imports&&t.imports.length>0){var a,l=!1;"object"==typeof i?(this.importRoot=i.root,l=!0,a=this.importRoot,i=i.file,(a.indexOf("\\")>=0||i.indexOf("\\")>=0)&&(r="\\")):"string"==typeof i?this.importRoot?a=this.importRoot:i.indexOf("/")>=0?(a=i.replace(/\/[^\/]*$/,""),""===a&&(a="/")):i.indexOf("\\")>=0?(a=i.replace(/\\[^\\]*$/,""),r="\\"):a=".":a=null;for(var c=0;c<t.imports.length;c++)if("string"==typeof t.imports[c]){if(!a)throw Error("cannot determine import root");var u=t.imports[c];if("google/protobuf/descriptor.proto"===u)continue;if(u=a+r+u,this.files[u]===!0)continue;/\.proto$/i.test(u)&&!e.DotProto&&(u=u.replace(/\.proto$/,".json"));var g=e.Util.fetch(u);if(null===g)throw Error("failed to import '"+u+"' in '"+i+"': file not found");/\.json$/i.test(u)?this["import"](JSON.parse(g+""),u):this["import"](e.DotProto.Parser.parse(g),u)}else i?/\.(\w+)$/.test(i)?this["import"](t.imports[c],i.replace(/^(.+)\.(\w+)$/,function(e,t,i){return t+"_import"+c+"."+i})):this["import"](t.imports[c],i+"_import"+c):this["import"](t.imports[c]);l&&(this.importRoot=null)}t["package"]&&this.define(t["package"]),t.syntax&&n(t);var h=this.ptr;return t.options&&Object.keys(t.options).forEach(function(e){h.options[e]=t.options[e]}),t.messages&&(this.create(t.messages),this.ptr=h),t.enums&&(this.create(t.enums),this.ptr=h),t.services&&(this.create(t.services),this.ptr=h),t["extends"]&&this.create(t["extends"]),this.reset()},s.resolveAll=function(){var n;if(null==this.ptr||"object"==typeof this.ptr.type)return this;if(this.ptr instanceof i.Namespace)this.ptr.children.forEach(function(e){this.ptr=e,this.resolveAll()},this);else if(this.ptr instanceof i.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(n=(this.ptr instanceof i.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!n)throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=n,n instanceof i.Enum){if(this.ptr.type=e.TYPES["enum"],"proto3"===this.ptr.syntax&&"proto3"!==n.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(n instanceof i.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=n.isGroup?e.TYPES.group:e.TYPES.message}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(n=this.ptr.parent.resolve(this.ptr.requestName,!0),!(n&&n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=n,n=this.ptr.parent.resolve(this.ptr.responseName,!0),!(n&&n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=n}else if(!(this.ptr instanceof e.Reflect.Message.OneOf||this.ptr instanceof e.Reflect.Extension||this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},s.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(var t="string"==typeof e?e.split("."):e,i=this.result,n=0;n<t.length;n++){if(!i[t[n]]){i=null;break}i=i[t[n]]}return i},s.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},s.toString=function(){return"Builder"},r.Message=function(){},r.Enum=function(){},r.Service=function(){},r}(t,t.Lang,t.Reflect),t.Map=function(e,t){function i(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var n=function(e,i){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),i)for(var n=Object.keys(i),r=0;r<n.length;r++){var s=this.keyElem.valueFromString(n[r]),o=this.valueElem.verifyValue(i[n[r]]);this.map[this.keyElem.valueToString(s)]={key:s,value:o}}},r=n.prototype;return r.clear=function(){this.map={}},r["delete"]=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),i=t in this.map;return delete this.map[t],i},r.entries=function(){for(var e,t=[],n=Object.keys(this.map),r=0;r<n.length;r++)t.push([(e=this.map[n[r]]).key,e.value]);return i(t)},r.keys=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].key);return i(e)},r.values=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].value);return i(e)},r.forEach=function(e,t){for(var i,n=Object.keys(this.map),r=0;r<n.length;r++)e.call(t,(i=this.map[n[r]]).value,i.key,this)},r.set=function(e,t){var i=this.keyElem.verifyValue(e),n=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(i)]={key:i,value:n},this},r.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));return t in this.map?this.map[t].value:void 0},r.has=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));return t in this.map},n}(t,t.Reflect),t.loadProto=function(e,i,n){return("string"==typeof i||i&&"string"==typeof i.file&&"string"==typeof i.root)&&(n=i,i=void 0),t.loadJson(t.DotProto.Parser.parse(e),i,n)},t.protoFromString=t.loadProto,t.loadProtoFile=function(e,i,n){if(i&&"object"==typeof i?(n=i,i=null):i&&"function"==typeof i||(i=null),i)return t.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(r){if(null===r)return void i(Error("Failed to fetch file"));try{i(null,t.loadProto(r,n,e))}catch(s){i(s)}});var r=t.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:t.loadProto(r,n,e)},t.protoFromFile=t.loadProtoFile,t.newBuilder=function(e){return e=e||{},"undefined"==typeof e.convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=t.convertFieldsToCamelCase),"undefined"==typeof e.populateAccessors&&(e.populateAccessors=t.populateAccessors),new t.Builder(e)},t.loadJson=function(e,i,n){return("string"==typeof i||i&&"string"==typeof i.file&&"string"==typeof i.root)&&(n=i,i=null),i&&"object"==typeof i||(i=t.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),i["import"](e,n),i.resolveAll(),i},t.loadJsonFile=function(e,i,n){if(i&&"object"==typeof i?(n=i,i=null):i&&"function"==typeof i||(i=null),i)return t.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(r){if(null===r)return void i(Error("Failed to fetch file"));try{i(null,t.loadJson(JSON.parse(r),n,e))}catch(s){i(s)}});var r=t.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:t.loadJson(JSON.parse(r),n,e)};var i=function(e){var t,i,n,r,s,o,a,l=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);for(o=e.length,s=0,a="";o>s;){do t=l[255&e.charCodeAt(s++)];while(o>s&&-1==t);if(-1==t)break;do i=l[255&e.charCodeAt(s++)];while(o>s&&-1==i);if(-1==i)break;a+=String.fromCharCode(t<<2|(48&i)>>4);do{if(n=255&e.charCodeAt(s++),61==n)return a;n=l[n]}while(o>s&&-1==n);if(-1==n)break;a+=String.fromCharCode((15&i)<<4|(60&n)>>2);do{if(r=255&e.charCodeAt(s++),61==r)return a;r=l[r]}while(o>s&&-1==r);if(-1==r)break;a+=String.fromCharCode((3&n)<<6|r)}return a},n=i("cGFja2FnZSBNb2R1bGVzOwptZXNzYWdlIHByb2J1ZiB7CgltZXNzYWdlIFZvaXBEeW5hbWljSW5wdXQKCXsKCQlyZXF1aXJlZCBpbnQzMiAgZW5naW5lVHlwZSA9IDE7CgkJcmVxdWlyZWQgc3RyaW5nIGNoYW5uZWxOYW1lID0gMjsKCQlvcHRpb25hbCBzdHJpbmcgY2hhbm5lbEV4dHJhID0gMzsKCX0KCgltZXNzYWdlIFZvaXBEeW5hbWljT3V0cHV0Cgl7CgkJIHJlcXVpcmVkIHN0cmluZyBkeW5hbWljS2V5PTE7Cgl9CiAgICBtZXNzYWdlIE5vdGlmeU1zZyB7CiAgICAgICAgcmVxdWlyZWQgaW50MzIgdHlwZSA9IDE7CiAgICAgICAgb3B0aW9uYWwgaW50NjQgdGltZSA9IDI7CgkJb3B0aW9uYWwgc3RyaW5nIGNocm1JZD0zOwogICAgfQogICAgbWVzc2FnZSBTeW5jUmVxdWVzdE1zZyB7CiAgICAgICAgcmVxdWlyZWQgaW50NjQgc3luY1RpbWUgPSAxOwogICAgICAgIHJlcXVpcmVkIGJvb2wgaXNwb2xsaW5nID0gMjsKICAgICAgICBvcHRpb25hbCBib29sIGlzd2ViPTM7CgkJb3B0aW9uYWwgYm9vbCBpc1B1bGxTZW5kPTQ7Ly/mmK/lkKbpnIDopoHmi4nlj5blj5Hku7bnrrHvvIxmYWxzZeS4jeimge+8jHRydWXpnIDopoEKICAgIH0KICAgIG1lc3NhZ2UgVXBTdHJlYW1NZXNzYWdlIHsKICAgICAgICByZXF1aXJlZCBpbnQzMiBzZXNzaW9uSWQgPSAxOwogICAgICAgIHJlcXVpcmVkIHN0cmluZyBjbGFzc25hbWUgPSAyOwogICAgICAgIHJlcXVpcmVkIGJ5dGVzIGNvbnRlbnQgPSAzOwogICAgICAgIG9wdGlvbmFsIHN0cmluZyBwdXNoVGV4dCA9IDQ7CiAgICAgICAgb3B0aW9uYWwgc3RyaW5nIGFwcERhdGEgPSA1OwoJCXJlcGVhdGVkIHN0cmluZyB1c2VySWQgPSA2OwogICAgfQogICAgbWVzc2FnZSBEb3duU3RyZWFtTWVzc2FnZXMgewogICAgICAgIHJlcGVhdGVkIERvd25TdHJlYW1NZXNzYWdlIGxpc3QgPSAxOwogICAgICAgIHJlcXVpcmVkIGludDY0IHN5bmNUaW1lID0gMjsKICAgIH0KICAgIG1lc3NhZ2UgRG93blN0cmVhbU1lc3NhZ2UgewogICAgICAgIHJlcXVpcmVkIHN0cmluZyBmcm9tVXNlcklkID0gMTsKICAgICAgICByZXF1aXJlZCBDaGFubmVsVHlwZSB0eXBlID0gMjsKICAgICAgICBvcHRpb25hbCBzdHJpbmcgZ3JvdXBJZCA9IDM7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIGNsYXNzbmFtZSA9IDQ7CiAgICAgICAgcmVxdWlyZWQgYnl0ZXMgY29udGVudCA9IDU7CiAgICAgICAgcmVxdWlyZWQgaW50NjQgZGF0YVRpbWUgPSA2OwogICAgICAgIHJlcXVpcmVkIGludDY0IHN0YXR1cyA9IDc7CiAgICAgICAgb3B0aW9uYWwgaW50NjQgZXh0cmEgPSA4OwogICAgICAgIG9wdGlvbmFsIHN0cmluZyBtc2dJZCA9IDk7CgkJb3B0aW9uYWwgaW50MzIgZGlyZWN0aW9uID0gMTA7IAogICAgfQogICAgZW51bSBDaGFubmVsVHlwZSB7CiAgICAgICAgUEVSU09OID0gMTsKICAgICAgICBQRVJTT05TID0gMjsKICAgICAgICBHUk9VUCA9IDM7CiAgICAgICAgVEVNUEdST1VQID0gNDsKICAgICAgICBDVVNUT01FUlNFUlZJQ0UgPSA1OwogICAgICAgIE5PVElGWSA9IDY7CiAgICB9CiAgICBtZXNzYWdlIENyZWF0ZURpc2N1c3Npb25JbnB1dCB7CiAgICAgICAgb3B0aW9uYWwgc3RyaW5nIG5hbWUgPSAxOwogICAgfQogICAgbWVzc2FnZSBDcmVhdGVEaXNjdXNzaW9uT3V0cHV0IHsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgaWQgPSAxOwogICAgfQogICAgbWVzc2FnZSBDaGFubmVsSW52aXRhdGlvbklucHV0IHsKICAgICAgICByZXBlYXRlZCBzdHJpbmcgdXNlcnMgPSAxOwogICAgfQogICAgbWVzc2FnZSBMZWF2ZUNoYW5uZWxJbnB1dCB7CiAgICAgICAgcmVxdWlyZWQgaW50MzIgbm90aGluZyA9IDE7CiAgICB9CiAgICBtZXNzYWdlIENoYW5uZWxFdmljdGlvbklucHV0IHsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgdXNlciA9IDE7CiAgICB9CiAgICBtZXNzYWdlIFJlbmFtZUNoYW5uZWxJbnB1dCB7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIG5hbWUgPSAxOwogICAgfQogICAgbWVzc2FnZSBDaGFubmVsSW5mb0lucHV0IHsKICAgICAgICByZXF1aXJlZCBpbnQzMiBub3RoaW5nID0gMTsKICAgIH0KICAgIG1lc3NhZ2UgQ2hhbm5lbEluZm9PdXRwdXQgewogICAgICAgIHJlcXVpcmVkIENoYW5uZWxUeXBlIHR5cGUgPSAxOwogICAgICAgIHJlcXVpcmVkIHN0cmluZyBjaGFubmVsSWQgPSAyOwogICAgICAgIHJlcXVpcmVkIHN0cmluZyBjaGFubmVsTmFtZSA9IDM7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIGFkbWluVXNlcklkID0gNDsKICAgICAgICByZXBlYXRlZCBzdHJpbmcgZmlyc3RUZW5Vc2VySWRzID0gNTsKICAgICAgICByZXF1aXJlZCBpbnQzMiBvcGVuU3RhdHVzID0gNjsKICAgIH0KICAgIG1lc3NhZ2UgQ2hhbm5lbEluZm9zSW5wdXQgewogICAgICAgIHJlcXVpcmVkIGludDMyIHBhZ2UgPSAxOwogICAgICAgIG9wdGlvbmFsIGludDMyIG51bWJlciA9IDI7CiAgICB9CiAgICBtZXNzYWdlIENoYW5uZWxJbmZvc091dHB1dCB7CiAgICAgICAgcmVwZWF0ZWQgQ2hhbm5lbEluZm9PdXRwdXQgY2hhbm5lbHMgPSAxOwogICAgICAgIHJlcXVpcmVkIGludDMyIHRvdGFsID0gMjsKICAgIH0KICAgIG1lc3NhZ2UgTWVtYmVySW5mbyB7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIHVzZXJJZCA9IDE7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIHVzZXJOYW1lID0gMjsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgdXNlclBvcnRyYWl0ID0gMzsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgZXh0ZW5zaW9uID0gNDsKICAgIH0KICAgIG1lc3NhZ2UgR3JvdXBNZW1iZXJzSW5wdXQgewogICAgICAgIHJlcXVpcmVkIGludDMyIHBhZ2UgPSAxOwogICAgICAgIG9wdGlvbmFsIGludDMyIG51bWJlciA9IDI7CiAgICB9CiAgICBtZXNzYWdlIEdyb3VwTWVtYmVyc091dHB1dCB7CiAgICAgICAgcmVwZWF0ZWQgTWVtYmVySW5mbyBtZW1iZXJzID0gMTsKICAgICAgICByZXF1aXJlZCBpbnQzMiB0b3RhbCA9IDI7CiAgICB9CiAgICBtZXNzYWdlIEdldFVzZXJJbmZvSW5wdXQgewogICAgICAgIHJlcXVpcmVkIGludDMyIG5vdGhpbmcgPSAxOwogICAgfQogICAgbWVzc2FnZSBHZXRVc2VySW5mb091dHB1dCB7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIHVzZXJJZCA9IDE7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIHVzZXJOYW1lID0gMjsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgdXNlclBvcnRyYWl0ID0gMzsKICAgIH0KICAgIG1lc3NhZ2UgR2V0U2Vzc2lvbklkSW5wdXQgewogICAgICAgIHJlcXVpcmVkIGludDMyIG5vdGhpbmcgPSAxOwogICAgfQogICAgbWVzc2FnZSBHZXRTZXNzaW9uSWRPdXRwdXQgewogICAgICAgIHJlcXVpcmVkIGludDMyIHNlc3Npb25JZCA9IDE7CiAgICB9CiAgICBlbnVtIEZpbGVUeXBlIHsKICAgICAgICBpbWFnZSA9IDE7CiAgICAgICAgYXVkaW8gPSAyOwogICAgICAgIHZpZGVvID0gMzsKCQlmaWxlID0gNDsKICAgIH0KICAgIG1lc3NhZ2UgR2V0UU51cFRva2VuSW5wdXQgewogICAgICAgIHJlcXVpcmVkIEZpbGVUeXBlIHR5cGUgPSAxOwogICAgfQogICAgbWVzc2FnZSBHZXRRTmRvd25sb2FkVXJsSW5wdXQgewogICAgICAgIHJlcXVpcmVkIEZpbGVUeXBlIHR5cGUgPSAxOwogICAgICAgIHJlcXVpcmVkIHN0cmluZyBrZXkgPSAyOwoJCW9wdGlvbmFsIHN0cmluZyAgZmlsZU5hbWUgPSAzOwogICAgfQogICAgbWVzc2FnZSBHZXRRTnVwVG9rZW5PdXRwdXQgewogICAgICAgIHJlcXVpcmVkIGludDY0IGRlYWRsaW5lID0gMTsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgdG9rZW4gPSAyOwogICAgfQogICAgbWVzc2FnZSBHZXRRTmRvd25sb2FkVXJsT3V0cHV0IHsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgZG93bmxvYWRVcmwgPSAxOwogICAgfQogICAgbWVzc2FnZSBBZGQyQmxhY2tMaXN0SW5wdXQgewogICAgICAgIHJlcXVpcmVkIHN0cmluZyB1c2VySWQgPSAxOwogICAgfQogICAgbWVzc2FnZSBSZW1vdmVGcm9tQmxhY2tMaXN0SW5wdXQgewogICAgICAgIHJlcXVpcmVkIHN0cmluZyB1c2VySWQgPSAxOwogICAgfQogICAgbWVzc2FnZSBRdWVyeUJsYWNrTGlzdElucHV0IHsKICAgICAgICByZXF1aXJlZCBpbnQzMiBub3RoaW5nID0gMTsKICAgIH0KICAgIG1lc3NhZ2UgUXVlcnlCbGFja0xpc3RPdXRwdXQgewogICAgICAgIHJlcGVhdGVkIHN0cmluZyB1c2VySWRzID0gMTsKICAgIH0KICAgIG1lc3NhZ2UgQmxhY2tMaXN0U3RhdHVzSW5wdXQgewogICAgICAgIHJlcXVpcmVkIHN0cmluZyB1c2VySWQgPSAxOwogICAgfQogICAgbWVzc2FnZSBCbG9ja1B1c2hJbnB1dCB7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIGJsb2NrZWVJZCA9IDE7CiAgICB9CiAgICBtZXNzYWdlIE1vZGlmeVBlcm1pc3Npb25JbnB1dCB7CiAgICAgICAgcmVxdWlyZWQgaW50MzIgb3BlblN0YXR1cyA9IDE7CiAgICB9CiAgICBtZXNzYWdlIEdyb3VwSW5wdXQgewogICAgICAgIHJlcGVhdGVkIEdyb3VwSW5mbyBncm91cEluZm8gPSAxOwogICAgfQogICAgbWVzc2FnZSBHcm91cE91dHB1dCB7CiAgICAgICAgcmVxdWlyZWQgaW50MzIgbm90aGluZyA9IDE7CiAgICB9CiAgICBtZXNzYWdlIEdyb3VwSW5mbyB7CiAgICAgICAgcmVxdWlyZWQgc3RyaW5nIGlkID0gMTsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgbmFtZSA9IDI7CiAgICB9CiAgICBtZXNzYWdlIEdyb3VwSGFzaElucHV0IHsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgdXNlcklkID0gMTsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgZ3JvdXBIYXNoQ29kZSA9IDI7CiAgICB9CiAgICBtZXNzYWdlIEdyb3VwSGFzaE91dHB1dCB7CiAgICAgICAgcmVxdWlyZWQgR3JvdXBIYXNoVHlwZSByZXN1bHQgPSAxOwogICAgfQogICAgZW51bSBHcm91cEhhc2hUeXBlIHsKICAgICAgICBncm91cF9zdWNjZXNzID0gMHgwMDsKICAgICAgICBncm91cF9mYWlsdXJlID0gMHgwMTsKICAgIH0KICAgIG1lc3NhZ2UgQ2hybUlucHV0IHsKICAgICAgICByZXF1aXJlZCBpbnQzMiBub3RoaW5nID0gMTsKICAgIH0KICAgIG1lc3NhZ2UgQ2hybU91dHB1dCB7CiAgICAgICAgcmVxdWlyZWQgaW50MzIgbm90aGluZyA9IDE7CiAgICB9CiAgICBtZXNzYWdlIENocm1QdWxsTXNnIHsKICAgICAgICByZXF1aXJlZCBpbnQ2NCBzeW5jVGltZSA9IDE7CiAgICAgICAgcmVxdWlyZWQgaW50MzIgY291bnQgPSAyOwogICAgfQoJCgltZXNzYWdlIENocm1QdWxsTXNnTmV3ICAvL+WuouaIt+err+aWsOeahOaLieWPluiBiuWkqeWupOa2iOaBrwoJewoJIHJlcXVpcmVkIGludDMyIGNvdW50ID0gMTsvL+aLieWPluadoeaVsCAgIDA66YCa55+l5ouJ5Y+WICAg6Z2eMO+8muS4u+WKqOaLieWPluWOhuWPsua2iOaBr+adoeaVsAoJIHJlcXVpcmVkIGludDY0IHN5bmNUaW1lID0gMjsvL+WQjOatpeaLieWPluaXtumXtAoJIG9wdGlvbmFsIHN0cmluZyBjaHJtSWQ9MzsvL+iBiuWkqeWupElECgl9CgkKICAgIG1lc3NhZ2UgUmVsYXRpb25zSW5wdXQKICAgIHsKICAgICAgICByZXF1aXJlZCBDaGFubmVsVHlwZSB0eXBlID0gMTsKICAgICAgICBvcHRpb25hbCBEb3duU3RyZWFtTWVzc2FnZSBtc2cgPTI7CgkJb3B0aW9uYWwgaW50MzIgY291bnQgPSAzOyAvLyDmi4nlj5bmnaHmlbAs6buY6K6kMDphbGwKICAgIH0KICAgIG1lc3NhZ2UgUmVsYXRpb25zT3V0cHV0CiAgICB7CiAgICAgICAgcmVwZWF0ZWQgUmVsYXRpb25JbmZvIGluZm8gPSAxOwogICAgfQogICAgbWVzc2FnZSBSZWxhdGlvbkluZm8KICAgIHsKICAgICAgICByZXF1aXJlZCBDaGFubmVsVHlwZSB0eXBlID0gMTsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgdXNlcklkID0gMjsKICAgICAgICBvcHRpb25hbCBEb3duU3RyZWFtTWVzc2FnZSBtc2cgPTM7CiAgICB9CiAgICBtZXNzYWdlIEhpc3RvcnlNZXNzYWdlSW5wdXQKICAgIHsKICAgICAgICByZXF1aXJlZCBzdHJpbmcgdGFyZ2V0SWQgPSAxOwogICAgICAgIHJlcXVpcmVkIGludDY0IGRhdGFUaW1lID0yOwogICAgICAgIHJlcXVpcmVkIGludDMyIHNpemUgID0gMzsKICAgIH0KCiAgICBtZXNzYWdlIEhpc3RvcnlNZXNzYWdlc091cHV0CiAgICB7CiAgICAgICAgcmVwZWF0ZWQgRG93blN0cmVhbU1lc3NhZ2UgbGlzdCA9IDE7CiAgICAgICAgcmVxdWlyZWQgaW50NjQgc3luY1RpbWUgPSAyOwogICAgICAgIHJlcXVpcmVkIGludDMyIGhhc01zZyA9IDM7CiAgICB9CgltZXNzYWdlIFF1ZXJ5Q2hhdHJvb21JbmZvSW5wdXQKCXsKCSByZXF1aXJlZCBpbnQzMiBjb3VudD0gMTsvL+acn+acm+iOt+WPluiBiuWkqeWupOeUqOaIt+eahOS6uuaVsO+8jOiMg+WbtOS4ujB+MjAKCSBvcHRpb25hbCBpbnQzMiBvcmRlcj0gMjsvL+aMieaXtumXtOaOkuW6j++8jOiMg+WbtO+8mjDvvIwx77yMMi7vvIgwOuS4jei/lOWbnu+8mzE65q2j5bqPKOacgOaXqeWKoOWFpSnvvJsyOuWAkuW6jyjmnIDmmZrliqDlhaUp77yJCgl9CgoJbWVzc2FnZSBRdWVyeUNoYXRyb29tSW5mb091dHB1dAoJewoJIG9wdGlvbmFsIGludDMyIHVzZXJUb3RhbE51bXMgPSAxOy8v5b2T5YmN6IGK5aSp5a6k5Lit55qE5oC75Lq65pWwCgkgcmVwZWF0ZWQgQ2hybU1lbWJlciB1c2VySW5mb3MgPSAyOy8v6L+U5Zue6YOo5YiG55So5oi35L+h5oGv5YiX6KGo77yI5Y+q5YyF5ZCrdXNlcklk5ZKMam9pblRpbWXlsZ7mgKfvvIkKCX0KCW1lc3NhZ2UgQ2hybU1lbWJlcgoJewoJIHJlcXVpcmVkIGludDY0IHRpbWUgPSAxOy8vTWVtYmVy55qEam9pblRpbWUKCSByZXF1aXJlZCBzdHJpbmcgaWQgPSAyOy8vTWVtYmVy55qEdXNlcklkCgl9CgltZXNzYWdlIE1QRm9sbG93SW5wdXQgIC8vbXDlhbPms6gv5Y+W5raI5YWz5rOoCgl7CgkJcmVxdWlyZWQgc3RyaW5nIGlkID0gMTsvL21waWQKCX0KCgltZXNzYWdlIE1QRm9sbG93T3V0cHV0Cgl7CgkJcmVxdWlyZWQgaW50MzIgbm90aGluZyA9IDE7Ly/ljaDkvY3lrZfmrrUKCQlvcHRpb25hbCBNcEluZm8gaW5mbyA9MjsvL+WFs+azqOeahG1waW5mbwoJfQoKCW1lc3NhZ2UgTUNGb2xsb3dJbnB1dCAgIC8vbWPlhbPms6gv5Y+W5raI5YWz5rOoCgl7CgkJcmVxdWlyZWQgc3RyaW5nIGlkID0gMTsvL21jaWQKCX0KCgltZXNzYWdlIE1DRm9sbG93T3V0cHV0Cgl7CgkJcmVxdWlyZWQgaW50MzIgbm90aGluZyA9IDE7Ly/ljaDkvY3lrZfmrrUKCQlvcHRpb25hbCBNcEluZm8gaW5mbyA9MjsvL+WFs+azqOeahG1waW5mbwoJfQoKCW1lc3NhZ2UgTXBJbmZvICAvL21w5Z+65pys5L+h5oGvCgl7CgkJcmVxdWlyZWQgc3RyaW5nIG1waWQ9MTsvL21wL21jaWQKCQlyZXF1aXJlZCBzdHJpbmcgbmFtZSA9IDI7Ly9kaXNwbGF5TmFtZQoJCXJlcXVpcmVkIHN0cmluZyB0eXBlID0gMzsvL21wL21jCgkJcmVxdWlyZWQgaW50NjQgdGltZT00Oy8v5YWs5LyX5biQ5Y+35L+u5pS55pe26Ze0CgkJb3B0aW9uYWwgc3RyaW5nIHBvcnRyYWl0VXJsPTU7Ly/lpLTlg48KCQlvcHRpb25hbCBzdHJpbmcgZXh0cmEgPTY7Ly/lhbbku5bkv6Hmga8oanNvbinvvIzmi4nlj5bnmoTml7blgJnljIXlkKvoj5zljZXjgIHnroDku4vnrYnkv6Hmga/jgIIKCX0KCgltZXNzYWdlIFNlYXJjaE1wSW5wdXQgLy/moLnmja7lhazkvJfluJDlj7dpZOWujOWFqOWMuemFjeafpeaJvgoJewoJCXJlcXVpcmVkIGludDMyIHR5cGU9MTsvL+agh+W/l+S9jSzml6XlkI7mjInkvY3mnaXlgZrmianlsZUKCQlyZXF1aXJlZCBzdHJpbmcgaWQ9MjsvL21waWQvbWNpZC9kaXNwbGF5TmFtZQoJfQoKCW1lc3NhZ2UgU2VhcmNoTXBPdXRwdXQKCXsKCQlyZXF1aXJlZCBpbnQzMiBub3RoaW5nPTE7Ly/ljaDkvY3nrKYKCQlyZXBlYXRlZCBNcEluZm8gaW5mbyA9IDI7Ly/lhazkvJfluJDlj7cKCX0KCgltZXNzYWdlIFB1bGxNcElucHV0IC8v56uv5LiK5ouJ5Y+W5YWs5LyX6LSm5Y+35L+h5oGvCgl7CgkJcmVxdWlyZWQgaW50NjQgdGltZT0xOy8v5YWs5LyX5biQ5Y+35L+u5pS55pe26Ze0CgkJcmVxdWlyZWQgc3RyaW5nIG1waWQ9MjsvL+err+S4iue8k+WtmOWFrOS8l+W4kOWPt+eahGlk55qEbWQ15LiyCgl9CgoJbWVzc2FnZSBQdWxsTXBPdXRwdXQKCXsKCQlyZXF1aXJlZCBpbnQzMiBzdGF0dXM9MTsvL+aYr+WQpuaciea3u+WKoOWSjOWIoOmZpO+8jOWmguaenOacieWPmOWMluWImei/lOWbnuWFqOmDqO+8jOWQpuWImei/lOWbnuabtOaWsOeahAoJCXJlcGVhdGVkIE1wSW5mbyBpbmZvID0gMjsvL+WFrOS8l+W4kOWPtwoJfQoJbWVzc2FnZSBIaXN0b3J5TXNnSW5wdXQgIAoJewoJCW9wdGlvbmFsIHN0cmluZyB0YXJnZXRJZCA9IDE7Ly/ogYrlpKnlrqRJRAoJCW9wdGlvbmFsIGludDY0IHRpbWUgPSAyOy8v5p+l6K+i5pe26Ze054K5CgkJb3B0aW9uYWwgaW50MzIgY291bnQgID0gMzsvL+aLieWPluadoeaVsAoJCW9wdGlvbmFsIGludDMyIG9yZGVyID0gNDsvL+aLieWPlumhuuW6jyAoMe+8muato+W6j++8mzDvvJrlgJLluo8pCgl9CgoJbWVzc2FnZSBIaXN0b3J5TXNnT3VwdXQgIC8v6L+U5Zue6IGK5aSp5a6k5Y6G5Y+y5raI5oGvCgl7CgkJcmVwZWF0ZWQgRG93blN0cmVhbU1lc3NhZ2UgbGlzdCA9IDE7Ly/miYDmi6XmnInnmoTmtojmga/vvIhsaXN05aSN57G75Z6L77yJCgkJcmVxdWlyZWQgaW50NjQgc3luY1RpbWUgPSAyOy8v5ZCM5q2l5pe26Ze0CgkJcmVxdWlyZWQgaW50MzIgaGFzTXNnID0gMzsgLy/mmK/lkKbov5jmnInlkI7nu63ljoblj7Lmtojmga8KCX0KfQ==");
return window.Modules=t.loadProto(n,void 0,"").build("Modules").probuf,"undefined"!=typeof RongIMLib&&"undefined"!=typeof RongIMLib.RongIMClient&&(RongIMLib.RongIMClient._memoryStore.hasModules||"[object Boolean]"!=Object.prototype.toString.call(RongIMLib.RongIMClient._memoryStore.hasModules)||(RongIMLib.RongIMClient._memoryStore.hasModules=!0,RongIMLib.RongIMClient.connect(RongIMClient._memoryStore.token,RongIMClient._memoryStore.callback))),t});