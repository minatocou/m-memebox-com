define("/modules/my/vip",["require","exports","module","/modules/vue/vue","/modules/vue/vue-common","/modules/app/app"],function(e){var a=e("/modules/vue/vue"),t=e("/modules/vue/vue-common"),i=e("/modules/app/app");vue=new a({mixins:[t,i],el:"html",data:{init:"",vipData:{},vipDetails:{},showMask:!1,moreLevel:{next:[],now:[],has:[]}},methods:{mask:function(){var e=this;e.showMask=!e.showMask},userInfoCall:function(e){if(e&&e.data&&e.data.token)this.errorMsg=e.data.token,localStorage.mmToken=e.data.token;else try{this.errorMsg=JSON.stringify(e)}catch(a){alert(a)}localStorage.mmToken?this.come():this.app_login()},time:function(e){return 2==e||3==e?"一个季度内":4==e||5==e?"一年内":"两年内"},come:function(){var e=this,a=e.isApp();e.httpAjax({url:"/h5/newaccount/gradeIndex",goLogin:!1,showLoading:a,success:function(a){e.vipData=a.data,e.vipDetails=e.vipData.details[8-e.vipData.currentGradeId],e.vipData.currentGradeId--,e.vipData.vipImg="/images/app/my/include/vip"+e.vipData.currentGradeId.toString()+".png",e.vipData.vImg="/images/app/my/include/v"+e.vipData.currentGradeId.toString()+".png",e.vipDetails.fromDate=e.vipDetails.fromDate.replace("-","."),e.vipDetails.toDate=e.vipDetails.toDate.replace("-","."),e.moreLevel.now.push(e.vipDetails),7!=e.vipData.currentGradeId?e.moreLevel.next.push(""!=e.vipData.nextGradeId?e.vipData.details[8-e.vipData.nextGradeId]:e.vipData.details[6-e.vipData.currentGradeId]):delete e.moreLevel.next;for(var t=0;t<e.vipData.currentGradeId;t++)e.moreLevel.has.unshift(e.vipData.details[7-t]);0==e.moreLevel.has.length&&delete e.moreLevel.has,e.init=!0}})}},ready:function(){this.$refs.loading.show=!1},created:function(){var e=this;e.isApp()?(localStorage.removeItem("mmToken"),e.app_userinfo()):e.come()}})});